/* Theme fallbacks (use your existing vars if you have them) */
:root {
  --background: #0b0b0b;
  --foreground: #e5e7eb;
  --muted-foreground: #9ca3af;
  --muted: #111827;
  --border: #2a2a2a;
  --destructive: #ef4444;
}

.app {
  min-height: 100vh;
  width: 100%;
  background: var(--background);
  color: var(--foreground);
}

/* Header */
.header {
  position: sticky;
  top: 0;
  z-index: 20;
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(6px);
  background: color-mix(in srgb, var(--background) 85%, transparent);
}

.headerRow {
  margin: 0 auto;
  max-width: 80rem;         /* ~max-w-7xl */
  padding: 1rem 1rem;       /* px-4 py-4 */
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.title {
  font-weight: 600;
  font-size: 1.25rem;
}
@media (min-width: 768px) {
  .title { font-size: 1.5rem; }
}

.headerStats {
  margin-left: auto;
  display: inline-flex;
  gap: 0.5rem;
}

.filterBtn {
  display: inline-flex;
  gap: 0.5rem;
  margin-left: 0.75rem;
}

.sheetContent { width: 360px; }
@media (min-width: 640px) {
  .sheetContent { width: 420px; }
}

.sheetBody {
  padding: 1rem 0;
  display: grid;
  gap: 1.25rem;
}

.field { display: grid; gap: 0.5rem; }

.inlineRow {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Search with icon */
.searchWrap { position: relative; flex: 1 1 auto; }
.searchIcon { position: absolute; left: 0.5rem; top: 0.62rem; }
.searchInput { padding-left: 2rem !important; }
.selectTrigger { width: 100%; }

/* Main */
.main {
  margin: 0 auto;
  max-width: 80rem;
  padding: 1.5rem 1rem;
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}
@media (min-width: 1024px) {
  .main { grid-template-columns: 1fr 1fr; }
}

/* Map card */
.mapCard { height: 60vh; overflow: hidden; }
@media (min-width: 1024px) {
  .mapCard { height: 78vh; }
}
.cardHeaderTight { padding-bottom: 0.5rem; }
.titleRow { display: flex; align-items: center; gap: 0.5rem; }
.mapContent { height: 100%; }
.leaflet { height: 100%; width: 100%; border-radius: 1rem; overflow: hidden; }

/* Popup */
.popup { display: grid; gap: 0.25rem; }
.popupName { font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
.popupMeta { font-size: 0.75rem; color: var(--muted-foreground); display: flex; align-items: center; gap: 0.25rem; }
.popupAddr { font-size: 0.75rem; }
.popupNotes { font-size: 0.75rem; margin-top: 0.5rem; max-width: 260px; }

/* List */
.listSection { display: flex; flex-direction: column; gap: 0.75rem; }
.searchRow { display: flex; align-items: center; gap: 0.5rem; }

.errorCard { border: 1px solid color-mix(in srgb, var(--destructive) 40%, transparent); }
.errorBody { padding: 0.75rem 1rem; font-size: 0.9rem; color: var(--destructive); }

.loading {
  height: 10rem;
  display: flex; align-items: center; justify-content: center;
  gap: 0.5rem;
  color: var(--muted-foreground);
}
.spin { animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.listGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem;
  overflow: auto;
  padding-right: 0.25rem;
  max-height: 63vh;
}
@media (min-width: 768px) {
  .listGrid { grid-template-columns: 1fr 1fr; }
}

.cardTitleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  font-size: 1rem;
}

.cardBody { font-size: 0.95rem; display: grid; gap: 0.5rem; }

.subtleRow { display: flex; align-items: center; gap: 0.5rem; color: var(--muted-foreground); }

.seriesWrap { display: inline-flex; }
.seriesText { font-size: 0.625rem; color: var(--muted-foreground); }

.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.accessTag {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--muted-foreground);
}

.clamp3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Episodes */
.episodesRow { display: flex; flex-wrap: wrap; align-items: center; gap: 0.25rem; }
.episodePill {
  font-size: 0.625rem;
  border-radius: 0.25rem;
  background: color-mix(in srgb, var(--muted) 60%, transparent);
  padding: 0.125rem 0.25rem;
}
.moreText { font-size: 0.625rem; color: var(--muted-foreground); }

/* Links */
.linkRow { display: flex; gap: 0.5rem; }
.link { text-decoration: underline; }
.link:hover { text-decoration: none; }
.muted { color: var(--muted-foreground); }

/* Pagination & Footer */
.pagination { margin-top: 0.5rem; display: flex; align-items: center; justify-content: space-between; }
.pageBtns { display: inline-flex; gap: 0.5rem; }

.footer {
  margin: 0 auto;
  max-width: 80rem;
  padding: 2rem 1rem;
  color: var(--muted-foreground);
  font-size: 0.75rem;
}

/* Icons */
.icon { display: inline-block; vertical-align: middle; }
.icon3 { width: 0.75rem; height: 0.75rem; }
.icon4 { width: 1rem; height: 1rem; }
.icon5 { width: 1.25rem; height: 1.25rem; }
.icon6 { width: 1.5rem; height: 1.5rem; }
